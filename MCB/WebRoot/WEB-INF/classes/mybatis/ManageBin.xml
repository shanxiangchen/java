<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.app.mapper.ManageBinMapper">
	<resultMap type="com.app.entity.ManageBin" id="ManageBinesultMap">
			<id column="bin_product_id"  property="binProductId"></id>
			<result column="BIN_PRODUCT_CODE"  property="binProductCode"></result>
			<result column="bin_product_name"  property="binProductName"></result>
			<result column="bin_product_no"  property="binProductNo"></result>
			<result column="BIN_PRODUCT_NO_LOW"  property="binProductNoLow"></result>
			<result column="BIN_PRODUCT_NO_HIGH"  property="binProductNoHigh"></result>
			<result column="CARD_OF_TYPE"  property="cardOfType"></result>
			<result column="AUTO_STAG_FLAG"  property="autoStagFlag"></result>
			<result column="STATE_CODE"  property="stateCode"></result>
			  
	</resultMap>
		<sql id="managebinColumns">BIN_PRODUCT_CODE,bin_product_name,BIN_PRODUCT_NO_LOW,BIN_PRODUCT_NO_HIGH,CARD_OF_TYPE,AUTO_STAG_FLAG,STATE_CODE</sql>
	<select id="listPageManageBin" parameterType="com.app.entity.ManageBin"  resultMap="ManageBinesultMap">
	    SELECT * FROM bank_auto_aging_manage_bin e WHERE 1=1 
		<if test="binProductName!=null and binProductName!=''">
			and bin_product_name  like '%${binProductName}%' 
		</if> 
		ORDER BY bin_product_id DESC
	</select> 
	 
	<insert id="insertManageBin" parameterType="com.app.entity.ManageBin" useGeneratedKeys="false" keyProperty="binProductId">
		insert into  bank_auto_aging_manage_bin (<include refid="managebinColumns"/>)
	 	values (#{binProductCode},#{binProductName},#{binProductNoLow},#{binProductNoHigh},#{cardOfType},#{autoStagFlag},#{stateCode})
	</insert>
	<delete id="deleteManageBinById" parameterType="int">
	delete from bank_auto_aging_manage_bin where bin_product_id=#{binProductId}
	</delete>
	<select id="getManageBinById" parameterType="int" resultMap="ManageBinesultMap">
		select * from bank_auto_aging_manage_bin where bin_product_id=#{binProductId}
	</select>
	<update id="updateManageBinInfo" parameterType="com.app.entity.ManageBin">
		update bank_auto_aging_manage_bin set
		bin_product_name=#{binProductName},
		BIN_PRODUCT_NO_LOW=#{binProductNoLow},
		BIN_PRODUCT_NO_HIGH=#{binProductNoHigh},
		CARD_OF_TYPE=#{cardOfType},
		AUTO_STAG_FLAG=#{autoStagFlag},
		STATE_CODE=#{stateCode}
		where bin_product_id=#{binProductId}
	</update>
</mapper>