<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.app.mapper.BankIntegralMapper">
	<resultMap type="BankIntegral" id="BankIntegralResultMap">
		<result column="INTEGRAL_ID" property="integralId" />
		<result column="INTEGRAL_IMG_RUL" property="integralImgRul" />
		<result column="INTEGRAL_IMG_RUL_NAME" property="integralImgRulName" />
		<result column="INTEGRAL_TYPE" property="integralType" />
		<result column="INTEGRAL_DETAILS_MB" property="integralDetailsMb" />
		<result column="INTEGRAL_DETAILS_PC" property="integralDetailsPc" />
	</resultMap>
	<select id="selBankIntegralPageList" resultMap="BankIntegralResultMap"
		parameterType="BankIntegral">
		select t.integral_id,
		t.integral_img_rul,
		t.integral_img_rul_name,
		t.integral_type,
		t.integral_details_mb,
		t.integral_details_pc
		from
		bank_integral t where 1=1 
		<if test="integralType!='' and integralType!=null">
			and t.integral_type=#{integralType}
		</if>
		<if test="integralImgRul!='' and integralImgRul!=null">
			and t.integral_img_rul =#{integralImgRul}
		</if>
	</select>

	<select id="selIntegralDetails" resultMap="BankIntegralResultMap"
		parameterType="String">
		select * from bank_integral where
		INTEGRAL_ID=#{integralId}
	</select>

	<insert id="saveBankIntegral" parameterType="BankIntegral">
		insert into
		bank_integral(INTEGRAL_ID,INTEGRAL_IMG_RUL,INTEGRAL_IMG_RUL_NAME,INTEGRAL_TYPE,INTEGRAL_DETAILS_MB,INTEGRAL_DETAILS_PC)
		values(#{integralId},#{integralImgRul},#{integralImgRulName},#{integralType},#{integralDetailsMb},#{integralDetailsPc})
	</insert>

	<update id="editBankIntegral" parameterType="BankIntegral">
		update bank_integral
		set
		INTEGRAL_IMG_RUL=#{integralImgRul,jdbcType=VARCHAR},
		INTEGRAL_IMG_RUL_NAME=#{integralImgRulName,jdbcType=VARCHAR},
		INTEGRAL_TYPE=#{integralType,jdbcType=VARCHAR},
	<!-- 	INTEGRAL_DETAILS_MB=#{integralDetailsMb,jdbcType=VARCHAR}, -->
		INTEGRAL_DETAILS_PC=#{integralDetailsPc,jdbcType=VARCHAR}
		where
		INTEGRAL_ID=#{integralId,jdbcType=VARCHAR}
	</update>

	<delete id="dleBankIntegral" parameterType="String">
		delete from
		bank_integral where INTEGRAL_ID=#{integralId,jdbcType=VARCHAR}
	</delete>
</mapper>