<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.app.mapper.BankCarBrandDetailsMapper">
	<resultMap type="BankCarBrandDetails" id="BankCarBrandDetailsResultMap">
		<id column="DETAILS_ID" property="detailsId" />
		<result column="BRAND_ID" property="brandId" />
		<result column="CAR_MODEL" property="carModel" />
		<result column="DOWN_PAYMENT_PROPORTION" property="downPaymentProportion" />
		<result column="INSTALLMENT_MONEY" property="installmentMoney" />
		<result column="INSTALLMENT_NUMBER" property="installmentNumber" />
		<result column="CLIENTELE_RATE" property="clienteleRate" />
		<result column="DETAILS_IMG_URL" property="detailsImgUrl" />
		<result column="DETAILS_IMG_NAME" property="detailsImgName" />
		<result column="START_TIME" property="startTime" />
		<result column="END_TIME" property="endTime" />
		<result column="BRAND_NAME" property="brandName" />
	</resultMap>

	<select id="bankCarBrandDetailsPageList" resultMap="BankCarBrandDetailsResultMap"
		parameterType="BankCarBrandDetails">
		select e.*, a.brand_name
		from bank_car_brand_details e
		left join
		bank_car_brand a on e.brand_id = a.brand_id where 1=1
		<if test="startTime!=null and startTime!=''">
			and e.start_time = #{startTime}
		</if>
	</select>
	<insert id="insertCarBrandDetails" parameterType="BankCarBrandDetails">
		insert into
		bank_car_brand_details
		(brand_id,car_model,down_payment_proportion,installment_money
		,installment_number,clientele_rate,detatls_img_url,detatls_img_name,start_time,end_time)
		values(#{brandId},#{carModel},#{downPaymentProportion},#{installmentMoney},
		#{installmentNumber},#{clienteleRate},#{detailsImgUrl},#{detailsImgName},#{startTime},#{endTime})
	</insert>


	<select id="getCarBrandDetailsbyid" resultMap="BankCarBrandDetailsResultMap"
		parameterType="String">
		select * from bank_car_brand_details where
		details_id=#{detailsId,jdbcType=VARCHAR}
	</select>

	<update id="updateCarBrand" parameterType="BankCarBrandDetails">
		update
		bank_car_brand_details set BRAND_ID=#{brandId},
		car_model=#{carModel},
		down_payment_proportion=#{downPaymentProportion},
		installment_money=#{installmentMoney},
		installment_number=#{installmentNumber},
		clientele_date=#{clienteleRate}
		,details_img_url=#{detailsImgUrl},
		details_img_name=#{detailsImgName},
		start_time=#{startTime},
		end_time=#{endTime}
		where details_id=#{detailsId,jdbcType=VARCHAR}
	</update>

	<select id="listCarBrandDetailsByIds" parameterType="int"
		resultMap="BankCarBrandDetailsResultMap">
		select * from bank_car_brand_details where details_id =
		#{detailsId}
	</select>

	<delete id="deleteCarBrandDetails" parameterType="String">
		delete from
		bank_car_brand_details where details_id=#{detailsId,jdbcType=VARCHAR}
	</delete>


	<select id="selectCarBrandDetails" resultMap="BankCarBrandDetailsResultMap">
		select
		a.brand_id,
		a.brand_name
		from bank_car_brand a

	</select>

</mapper>