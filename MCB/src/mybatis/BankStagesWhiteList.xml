<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.app.mapper.BankStagesWhiteListMapper">
		 
	
	<select id="bankStagesWhitePageList" resultType="BankStagesWhiteList" parameterType="BankStagesWhiteList">	
	    select t.list_id as listId,t.list_phone as listPhone from bank_stages_white_list t
	    where 1=1
	    <if test="listPhone!=null and listPhone!=''">
			  and  t.list_phone like "%"#{listPhone}"%"                   
		</if>
		 order by list_id desc
	</select>
	<delete id="delectStagingList">
	   delete from bank_stages_white_list  
		<where>
			LIST_ID  in
			<foreach collection="array" item="item" index="index" open="("
				separator="," close=")">#{item}</foreach>
		</where>
	</delete>
	<insert id="insertStagesWhite" parameterType="BankStagesWhiteList">
	    insert into bank_stages_white_list (
		   LIST_PHONE
		 )
	  values(
		  #{listPhone,jdbcType=VARCHAR}
		)
	</insert>
	<select id="selectCountByPhone" parameterType="String" resultType="int">
	   select count(1) from bank_stages_white_list t where t.list_phone=#{listPhone,jdbcType=VARCHAR}
	</select>
</mapper>