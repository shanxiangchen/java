<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.app.mapper.BankLohasAllocationMapper">
		 
	
	<select id="selectBankLohasAllocationPageList" resultType="BankLohasAllocation" parameterType="BankLohasAllocation">	
	     select 
	     is_add_phone as isAddPhone,
	     link_type as linkType,
	     lohas_id as lohasId,
	     lohas_img_url as lohasImgUrl,
	     lohas_img_name as lohasImgName,
	     lohas_img_where as lohasImgWhere,
	     lohas_title_name as lohasTitleName,
	     lohas_out_link as lohasOutLink,
	     lohas_show_type as lohasShowType,
	     lohas_show_no as lohasShowNo,
	     link_no as linkNo,
	     lohas_param as lohasParam
	    from bank_lohas_allocation 
	    where  1=1
	    order by  lohas_img_where, lohas_show_no
	</select>
	 
	<select id="selectServiceName" resultType="java.util.HashMap">
	  select 
		 t.value as value,
		 t.content as content
	  from bank_code_info t where t.code_type_id='LOHAS_TITLE_NAME'
	</select>
	<select id="selectInnerLink" resultType="java.util.HashMap">
	  select 
		 t.value,
		 t.content
	  from bank_code_info t where t.code_type_id='LOHAS_LINK_NAME'
	</select>
	<insert id="insertLohasAllocation" parameterType="BankLohasAllocation">
	  insert into bank_lohas_allocation(
	   is_add_phone,
	   link_type,
	   LOHAS_IMG_URL,
	   LOHAS_IMG_NAME,
	   LOHAS_IMG_WHERE,
	   LOHAS_OUT_LINK,
	   LOHAS_SORT_NO,
	   LOHAS_SHOW_NO,
	   loHAS_PARAM,
	   link_no
	  )
	  values(
	  #{isAddPhone},
	   #{linkType},
	   #{lohasImgUrl,jdbcType=VARCHAR},
	   #{lohasImgName,jdbcType=VARCHAR},
	   "1",
	   #{lohasOutLink,jdbcType=VARCHAR},
	   #{lohasSortNo,jdbcType=NUMERIC},
	   #{lohasShowNo,jdbcType=NUMERIC},
	   #{lohasParam},
	   #{linkNo}
	  )
	
	</insert>
	<select id="selectCountByimgWhere" parameterType="BankLohasAllocation" resultType="int">
	   select 
	   count(1) 
	   from 
	   bank_lohas_allocation t 
	   where 
	   t.lohas_img_where="1" 
	</select>
	<delete id="delLohasAllocation">
	   delete from bank_lohas_allocation 
		 <where>
			lohas_id  in
			<foreach collection="array" item="item" index="index" open="("
				separator="," close=")">#{item}</foreach>
		</where>
	</delete>
	<select id="selectLohasAllocationPics" resultType="String">
	    	select LOHAS_IMG_NAME as lohasImgName from bank_lohas_allocation   
	   <where>
			LOHAS_ID in
			<foreach collection="array" item="item" index="index" open="("
				separator="," close=")">#{item}</foreach>
		</where> 
	</select> 
	<select id="selectBankLohasAllocationById" parameterType="String" resultType="BankLohasAllocation">
	     select 
	     is_add_phone as isAddPhone,
	     link_type as linkType,
	     lohas_id as lohasId,
	     lohas_img_url as lohasImgUrl,
	     lohas_img_name as lohasImgName,
	     lohas_img_where as lohasImgWhere,
	     lohas_title_name as lohasTitleName,
	     lohas_out_link as lohasOutLink,
	     lohas_show_type as lohasShowType,
	     lohas_show_no as lohasShowNo,
	     link_no as linkNo,
	     lohas_param as lohasParam
	    from bank_lohas_allocation 
	    where  lohas_id=#{lohasId,jdbcType=VARCHAR}
	     
	</select>
	<update id="updateLohasAllocation" parameterType="BankLohasAllocation">
	   update bank_lohas_allocation set
	       is_add_phone = #{isAddPhone},
	   	   lohas_param = #{lohasParam},
	   	   link_no = #{linkNo},
	       lohas_img_url=#{lohasImgUrl,jdbcType=VARCHAR},
	       lohas_img_name=#{lohasImgName,jdbcType=VARCHAR},
	       lohas_out_link=#{lohasOutLink,jdbcType=VARCHAR},
	       link_type = #{linkType}
	   WHERE lohas_id=#{lohasId,jdbcType=VARCHAR}
	</update>
</mapper>