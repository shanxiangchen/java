<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	<mapper namespace="com.app.mapper.TemplateMapper">
		<resultMap type="com.app.entity.Template" id="TemplateMap">
			<id column="INFO_TEMPLATE_ID" property="infoTenplateId"/>
			<result column="INFO_TEMPLATE_TYPE" property="infoTemplateType"/>
			<result column="INFO_TEMPLATE_ENCODING" property="infoTemplateEncoding"/>
			<result column="INFO_TEMPLATE_DESCRIBE" property="infoTemplateDescribe"/>
		</resultMap>
		<sql id="insertTemplate">INFO_TEMPLATE_TYPE,INFO_TEMPLATE_ENCODING,INFO_TEMPLATE_DESCRIBE</sql>
		<select id="TemplatePageList" parameterType="com.app.entity.Template" resultMap="TemplateMap">
		    SELECT * FROM bank_info_template e WHERE 1=1 
			<if test="infoTemplateType!=null and infoTemplateType!=''">
				  	and INFO_TEMPLATE_TYPE=#{infoTemplateType}
			</if>
			ORDER BY INFO_TEMPLATE_ID DESC
		</select>
		 
		<select id="getCountByName" parameterType="com.app.mapper.TemplateMapper" resultType="Integer">
		select count(INFO_TEMPLATE_ID) from bank_info_template where INFO_TEMPLATE_ENCODING=#{infoTemplateEncoding}
	</select>
		<insert id="TemplateAdd" parameterType="com.app.entity.Template" useGeneratedKeys="false" keyProperty="infoTenplateId">
			insert into bank_info_template(<include refid="insertTemplate"/>)
			values(#{infoTemplateType},#{infoTemplateEncoding},#{infoTemplateDescribe})
		</insert>
		<select id="TemplateById" parameterType="int" resultMap="TemplateMap">
			select * from bank_info_template where INFO_TEMPLATE_ID = #{infoTenplateId}
		</select>
		<update id="TemplateEdit" parameterType="com.app.entity.Template">
			update  bank_info_template set
			INFO_TEMPLATE_TYPE=#{infoTemplateType},
			INFO_TEMPLATE_ENCODING=#{infoTemplateEncoding},
			INFO_TEMPLATE_DESCRIBE=#{infoTemplateDescribe}
			where INFO_TEMPLATE_ID=#{infoTenplateId}
		</update>
		<delete id="TemplatetDel" parameterType="int">
			delete from bank_info_template where INFO_TEMPLATE_ID=#{infoTenplateId}
		</delete>
	</mapper>